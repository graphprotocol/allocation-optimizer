<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Calling From Julia · The Allocation Optimizer</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://graphprotocol.github.io/allocation-optimizer/call-julia/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">The Allocation Optimizer</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../configuration/">Configuration</a></li><li><span class="tocitem">Usage</span><ul><li><a class="tocitem" href="../provided-binary/">Using The Provided Binary</a></li><li><a class="tocitem" href="../build-a-binary/">Build Your Own Binary</a></li><li class="is-active"><a class="tocitem" href>Calling From Julia</a></li><li><a class="tocitem" href="../calling-another/">Calling From Another Language</a></li></ul></li><li><a class="tocitem" href="../output/">Understanding The Output</a></li><li><a class="tocitem" href="../api/">API Reference</a></li><li><a class="tocitem" href="../bugs/">Reporting Bugs</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Usage</a></li><li class="is-active"><a href>Calling From Julia</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Calling From Julia</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/graphprotocol/allocation-optimizer/blob/main/docs/src/call-julia.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Calling-From-Julia"><a class="docs-heading-anchor" href="#Calling-From-Julia">Calling From Julia</a><a id="Calling-From-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Calling-From-Julia" title="Permalink"></a></h1><p>If you&#39;re okay with having the Julia runtime on your computer, and you don&#39;t mind the precompilation time, this is the preferred way to run the Allocation Optimizer. In part, this is because access the to Julia runtime will enable you to add your own features if you&#39;d like. You can even (hopefully) even submit some PRs with features to help other indexers! Compiling on your machine also allows Julia to specialise on idiosyncrasies of your hardware. For example, if your CPU supports <a href="https://en.wikipedia.org/wiki/AVX-512">AVX-512</a>, Julia will use those instructions to speed up your code beyond what the generic binary might give you. Again, the trade-off here is that you&#39;ll have to eat the precompilation time the first time you run the code after you start a new Julia session.</p><p>That said, here&#39;s how to install and use the Allocation Optimizer from Julia.</p><p>Install Julia! We prefer to use <code>juliaup</code>. You can install this via:</p><pre><code class="language-bash hljs">curl -fsSL https://install.julialang.org | sh</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>As of writing this documentation, the latest version of Julia is v1.8. This the version the Allocation Optimizer currently uses, and the version <code>juliaup</code> will install by default. If <code>juliaup</code> begins to use v1.9, then you may need to use <code>juliaup</code> to manually install v1.8 via <code>juliaup add 1.8</code>. Then, you can either set the default to be v1.8 using <code>juliaup default 1.8</code>, or you can replace every time you see <code>julia</code> with <code>julia +1.8</code> below.</p></div></div><p>Clone this repository and <code>cd</code> into it.</p><pre><code class="language-bash hljs">git clone https://github.com/graphprotocol/allocation-optimizer.git
cd allocation-optimizer</code></pre><p>Start Julia.</p><pre><code class="language-bash hljs">julia --project</code></pre><p>Install the dependencies</p><pre><code class="language-julia hljs">julia&gt; ]
pkg&gt; instantiate</code></pre><p>Set up your configuration file.  See <a href="../configuration/#Configuration">Configuration</a> for details.</p><p>From the Julia REPL (the TUI that comes up when you use <code>julia --project</code>), run the <code>main</code> function with the path to your config.</p><pre><code class="language-julia hljs">julia&gt; using AllocationOpt
julia&gt; path = &quot;config.toml&quot;  # path to your config file
julia&gt; AllocationOpt.main(path)</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If you are still in Pkg mode, <code>pkg&gt;</code>, hitting <em>backspace</em> will bring you back into the REPL.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../build-a-binary/">« Build Your Own Binary</a><a class="docs-footer-nextpage" href="../calling-another/">Calling From Another Language »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 21 April 2023 13:27">Friday 21 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
